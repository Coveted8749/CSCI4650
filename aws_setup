
#clone our git code
sudo yum update -y
sudo yum install git -y
git clone https://github.com/Coveted8749/CSCI4650.git
cd CSCI4650
#add our db packages
sudo yum install -y pkg-config
sudo dnf install mariadb105
#need to add a higher version of the standard amazon linux python for django to work
sudo dnf install -y git tar gcc \
                   zlib-devel bzip2-devel readline-devel \
                   sqlite sqlite-devel openssl-devel \
                   tk-devel libffi-devel xz-devel
curl https://pyenv.run | bash && \
    echo 'export PYENV_ROOT="$HOME/.pyenv"' >> ~/.bashrc && \
    echo '[[ -d $PYENV_ROOT/bin ]] && export PATH="$PYENV_ROOT/bin:$PATH"' >> ~/.bashrc && \
    echo 'eval "$(pyenv init -)"' >> ~/.bashrc && \
    source ~/.bashrc && \
    pyenv install 3.12.3 && \
    pyenv global 3.12.3
#wait 6 minutes
python -m ensurepip --upgrade
python3 -m pip install --upgrade pip
#setup the virtual environment like before
source venv/bin/activate



python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
pip install python-dotenv
pip install django mysqlclient

#Open settings.py 
echo "Update 'DATABASES' to change the following:nano
 DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'cloud',
        'USER': 'your_rds_username',
        'PASSWORD': 'your_rds_password',
        'HOST': 'your_rds_endpoint',
        'PORT': '3306',
    }
 }"

python manage.py migrate
#python manage.py createsuperuser


#python manage.py runserver 0.0.0.0:8000


